(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["gallery~pdp","media-images"],{"0022":function(t,e,o){},1750:function(t,e,o){},"1b69":function(t,e,o){"use strict";o("6fd7")},"6a9e":function(t,e,o){"use strict";o.r(e);var l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"media",class:[t.layout,"gallery-"+t.gallery.length]},[t.showZoom?o("Media",{staticClass:"zoom-view",attrs:{layout:"zoomed",gallery:t.gallery},on:{close:function(e){t.showZoom=!1}},model:{value:t.focused,callback:function(e){t.focused=e},expression:"focused"}}):t._e(),"zoomed"===t.layout?o("div",{staticClass:"close-zoom",on:{click:function(e){return t.$emit("close")}}},[o("Icon",{attrs:{name:"x",fill:"#000"}})],1):t._e(),o("ImageFlag",{staticClass:"product-media-flag",attrs:{product:t.product}}),t.gallery.length>1?o("div",{staticClass:"thumbs"},[t._t("thumbs",(function(){return[o("MediaThumbs",{staticClass:"thumbs-gallery",attrs:{gallery:t.gallery,vertical:-1===["mobile","tablet"].indexOf(t.$mq)},model:{value:t.focused,callback:function(e){t.focused=e},expression:"focused"}})]}))],2):t._e(),o("div",{staticClass:"gallery-wrap"},[t._t("default",(function(){return[o("MediaImages",{ref:"gallery",staticClass:"gallery",attrs:{gallery:t.gallery,layout:t.layout},on:{click:function(e){return t.clickImage(e)}},scopedSlots:t._u([t.$scopedSlots.overlay?{key:"overlay",fn:function(e){return[t._t("overlay",null,{idx:e.idx,img:e.img})]}}:null],null,!0),model:{value:t.focused,callback:function(e){t.focused=e},expression:"focused"}},["zoomed"!==t.layout&&t.gallery.length>1?o("ArrowNav",{staticClass:"pdp-controls",attrs:{max:t.gallery.length},model:{value:t.focused,callback:function(e){t.focused=e},expression:"focused"}}):t._e()],1)]}),{focused:t.focused})],2)],1)},i=[],a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"drag-scroll",rawName:"v-drag-scroll",value:{vertical:t.vertical},expression:"{vertical: vertical}"}],ref:"scrollArea",staticClass:"thumbs custom-scroll hide-scroll",on:{scroll:t.onScroll}},[t._l(t.thumbnails,(function(e,l){return o("StaticImage",{staticClass:"thumb",class:l===t.value&&"active",attrs:{alt:"Product Thumbnail "+l,src:e,width:50,lazy:""},on:{click:function(e){return t.$emit("input",l)}}})})),o("ArrowScroll",{ref:"navs",staticClass:"thumbs-controls",attrs:{target:"scrollArea",vertical:""},on:{scroll:function(e){return t.$refs.scrollArea.scroll(e)}}})],2)},r=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"controls",class:[t.vertical&&"vertical",t.mounted&&"mounted"]},[t.beginning?t._e():o("div",{staticClass:"ctrl",on:{click:function(e){return e.stopPropagation(),t.scroll(-1)}}},[o("Icon",{attrs:{name:t.vertical?"arrow-up":"arrow-left",fill:"#D2D2D2"}})],1),o("div",{staticClass:"space"}),t.end?t._e():o("div",{staticClass:"ctrl",on:{click:function(e){return e.stopPropagation(),t.scroll(1)}}},[o("Icon",{attrs:{name:t.vertical?"arrow-down":"arrow-right",fill:"#D2D2D2"}})],1)])},s=[],c=void 0;function u(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var f={props:{vertical:{type:Boolean,default:!1},target:{type:String,default:null}},data:function(){return{end:!1,beginning:!0,mounted:!1}},watch:{target:function(){return c.checkEl()}},mounted:function(){var t=this;this.mounted=!0,this.$nextTick((function(){return t.checkEl()}))},methods:{checkEl:function(){var t=this;this.target&&this.$nextTick((function(){var e=t.$parent.$refs[t.target];e&&t.onScroll({target:e})}))},scroll:function(t){var e,o=this.vertical?this.$parent.$refs[this.target].scrollTop:this.$parent.$refs[this.target].scrollLeft,l=(e={},u(e,this.vertical?"top":"left",o+t*(this.vertical?this.$el.clientHeight:this.$el.clientWidth)),u(e,"behavior","smooth"),e);this.$emit("scroll",l)},onScroll:function(t){var e=t.target,o=0===(this.vertical?e.scrollTop:e.scrollLeft),l=!1;l=this.vertical?e.scrollTop>=e.scrollHeight-e.offsetHeight:e.scrollLeft>=e.scrollWidth-e.clientWidth,o!==this.beginning&&this.$set(this,"beginning",o),l!==this.end&&this.$set(this,"end",l)}}},d=f,h=(o("de4b"),o("2877")),m=Object(h["a"])(d,n,s,!1,null,"4784d3d7",null),v=m.exports,g=o("c022"),p={components:{ArrowScroll:v},props:{gallery:{type:Array,default:function(){return[]}},value:{type:Number,required:!0},vertical:{type:Boolean,default:!1}},computed:{thumbnails:function(){return this.gallery.map((function(t){return Object(g["a"])(t.link||t.src,50,50)}))}},methods:{onScroll:function(t){this.$refs.navs&&this.$refs.navs.onScroll(t)}}},y=p,b=(o("f04f"),Object(h["a"])(y,a,r,!1,null,"24608732",null)),w=b.exports,$=o("9fe1"),_=o("f4d3"),k=o("93b7"),C={name:"Media",components:{ArrowNav:_["a"],MediaThumbs:w,MediaImages:$["default"],ImageFlag:k["default"]},props:{gallery:{type:Array,default:function(){return[]}},layout:{type:String,required:!1},value:{type:Number,default:0},product:{type:Object,default:function(){return{}}}},watch:{focused:function(t){this.value!==t&&this.$emit("input",t)},value:function(t){this.focused!==t&&(this.focused=t)}},data:function(){return{showZoom:!1,focused:0}},created:function(){this.focused=this.value},mounted:function(){this.loadQueryImage()},methods:{clickImage:function(t){this.focused=t,"zoomed"!==this.layout&&(this.showZoom=!0)},loadQueryImage:function(){var t,e=parseInt((null===(t=this.$route)||void 0===t?void 0:t.query.img)||null,10);"number"===typeof e&&this.gallery.length>1&&e<=this.gallery.length&&0!==e&&(this.focused=e-1,"zoomed"!==this.layout&&(this.showZoom=!0))}}},x=C,I=(o("9ca1"),o("90a4"),Object(h["a"])(x,l,i,!1,null,"25e34850",null));e["default"]=I.exports},"6fd7":function(t,e,o){},"90a4":function(t,e,o){"use strict";o("0022")},"9ca1":function(t,e,o){"use strict";o("b4ff")},"9fe1":function(t,e,o){"use strict";o.r(e);var l,i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"product-media",class:[t.layout&&"pm-"+t.layout]},[t._t("default"),o("div",{directives:[{name:"drag-scroll",rawName:"v-drag-scroll",value:{vertical:t.vertical,snap:"hero"!==t.layout||t.mobile},expression:"{vertical: vertical, snap: layout !== 'hero' || mobile}"}],ref:"media",staticClass:"custom-scroll media-images",class:{vertical:t.vertical,layout:t.layout},on:{"&scroll":function(e){return t.scrollMediaEvent(e)}}},t._l(t.images,(function(e,l){return o("DynamicMedia",{key:l,ref:"images",refInFor:!0,staticClass:"image",attrs:{contain:"hero"!==t.layout||t.mobile,config:e,preload:0===l?t.preload:void 0,widths:"hero"===t.layout?[308,414,1024]:void 0,theme:"absolute",fade:!1},on:{click:function(e){return t.$emit("click",l)}}},[t.$scopedSlots.overlay||t.$slots.overlay?o("div",{staticClass:"overlay-content"},[t._t("overlay",null,{idx:l,img:e})],2):t._e(),"zoomed"===t.layout?o("div",{staticClass:"page-number"},[t._v(t._s(t.__("Image "+(l+1)+" of "+t.images.length)))]):t._e()])})),1)],2)},a=[],r=o("8550");function n(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.offsetLeft,l=t.offsetTop,i=t.offsetWidth,a=t.offsetHeight,r=t.parentElement,n=r.scrollTop,s=r.scrollLeft,c=r.clientHeight,u=r.clientWidth,f=e?l-n:o-s,d=e?a:i,h=e?c:u;return f+d<0||f>h?0:f<0?(f+d)/d:(d-(f+d-h))/d}"undefined"!==typeof window&&(l=window.location.toString());var s={props:{gallery:{type:Array,default:function(){return[]}},layout:{type:String,required:!1},product:{type:Object,default:function(){return{}}},value:{type:Number,required:!0}},data:function(){return{active:0}},watch:{value:function(t,e){t!==this.active&&this.fade(e,t)}},computed:{mobile:function(){return-1!==["mobile","tablet"].indexOf(this.$mq)||"force-mobile"===this.layout},vertical:function(){return"zoomed"===this.layout&&!this.mobile},images:function(){var t=this;return this.gallery.filter((function(t){return"video"!==t.type})).map((function(e,o){return{src:e.link||e.src,alt:e.alt||"Product Image ".concat(o+1),width:e.width||1600,height:e.height||900,autoHeight:!e.height,bgColor:t.vertical?"#ffffff":"#f8f8f8"}}))},preload:function(){if(!l||"undefined"===typeof window||l===window.location.toString())return 768}},created:function(){this.active=this.value},mounted:function(){if(0!==this.value){var t=this.$refs.media.children[this.value];t&&t.scrollIntoView()}"zoomed"===this.layout&&Object(r["b"])()},beforeDestroy:function(){"zoomed"===this.layout&&Object(r["a"])()},methods:{scrollMediaEvent:function(){var t=this;clearTimeout(this.scrollEvent),this.scrollEvent=setTimeout((function(){var e=t.$refs.images.map((function(e,o){return{index:o,visible:n(e.$el,t.vertical)}})).sort((function(t,e){return e.visible-t.visible}))[0].index;e!==t.value&&(t.active=e,t.$emit("input",e))}),100)},fade:function(t,e){if(e!==this.active){var o=this.$refs.media;this.active=e;var l=o.children[e];if(l)if(this.vertical){var i=(window.innerHeight-l.clientHeight)/2;o.scrollTo({top:l.offsetTop-i,behavior:"smooth"})}else if(1!==Math.abs(e-t)&&"zoomed"!==this.layout){var a=o.children[t],r=a.cloneNode(!0);r.classList.add("fade-out"),r.style.left="".concat(l.offsetLeft,"px"),o.appendChild(r),r.querySelector("img").onload=function(){o.scrollTo({left:l.offsetLeft}),r.style.opacity=0},setTimeout((function(){return r.remove()}),300)}else o.scrollTo({left:l.offsetLeft,behavior:"smooth"})}}}},c=s,u=(o("1b69"),o("2877")),f=Object(u["a"])(c,i,a,!1,null,"58d99130",null);e["default"]=f.exports},a2d9:function(t,e,o){},b4ff:function(t,e,o){},de4b:function(t,e,o){"use strict";o("a2d9")},f04f:function(t,e,o){"use strict";o("1750")}}]);
//# sourceMappingURL=gallery~pdp.93fb824f.js.map